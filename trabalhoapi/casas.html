<!DOCTYPE HTML>
<html lang="pt-br">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <title>Casas</title>
    <link rel="stylesheet" href="casas.css">
</head>
<body>
 

<select name="casas" id="casas">

    <option value="0">CASAS</option>
    
    <option value="1">Grifin√≥ria</option>

    <option value="2">Sonserina</option>

    <option value="3">Lufa Lufa</option>


    <option value="4">Corvinal</option>

</select>
    <input type="button" value="Enviar" id="enviar"><br>

    <div id="mostra"></div>

    
  

  <script>
     document.querySelector('#enviar').addEventListener('click',consulta);
    let casa=""
    
    async function consulta(){
        
         casa = document.querySelector('#casas').value;
        

        const url='https://legacy--api.herokuapp.com/api/v1/houses/'+casa;
        try{
            let resposta=  await fetch(url);
            let js = await resposta.json();
            console.log(js)
            mostraDados(js);
        }catch {
            console.log("erro")
        }
    }       
    function mostraDados(js){
        const painel = document.querySelector('#mostra');
        let texto= "<h1>Dados solicitados</h1>";
        texto=texto + "Nome: "+ js.name+"<br>";
        texto=texto + "Fundador: " + js.founder+"<br>";
        texto=texto + "Elemento: "+ js.element+"<br>";
        texto=texto + "Cores: "+ js.colors+"<br>";
        

    
        painel.innerHTML = texto;
       

        if(casa=="1"){
            document.body.style.backgroundImage = "url('grifinoria.png')";
        }
        if(casa=="2"){
            document.body.style.backgroundImage = "url('sonserina.png')";
        }
        if(casa=="3"){
            document.body.style.backgroundImage = "url('lufa.png')";

        }
        if(casa=="4"){
            document.body.style.backgroundImage = "url('corvinal.png')";
        }
    }
    
    
</script>
</body>
</html>