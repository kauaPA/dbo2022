<!DOCTYPE>
<html lang="pt-br">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>PENALTI MASTER</title>
	<link rel="stylesheet" href="trabalhojogo.css">
</head>

<body>

		<div class="fundo" id="fundo">


			<div id="div2">

			</div>
			<div id="div1">

			</div>
			<div id="div3">

			</div>
			<div class="painel">

				<hr>
				<button type="button" id="acima">Acima</button><br>
				<button type="button" id="esquerda">Esquerda</button>
				<button type="button" id="direita">Direita</button><br>
				<button type="button" id="baixo">Abaixo</button>
				<hr>
				<button type="button" id="mudarbola">Mudar a bola</button>
				<button type="button" id="mudarjogador">Mudar o jogador</button>
				<hr>

			</div>
		</div>
		<div id="tempo"></div>
		<script>
			const tempo = document.querySelector("#tempo");
			let timeSecond = 60;
			displayTime(timeSecond);
			function displayTime(time) {
				const min = Math.floor(time / 60);
				const sec = Math.floor(time % 60);
				tempo.innerHTML = `${min < 10 ? '0' : ''}${min}:${sec < 10 ? '0' : ''}${sec}`
			}
			const countDown = setInterval(() => {
				timeSecond--;
				displayTime(timeSecond);
				if (timeSecond <= 0 || timeSecond < 1) {
					endTime();
					clearInterval(countDown);
				}
			}, 1000)
			function endTime() {
				tempo.innerHTML = "00:00";
				setTimeout("alert('O seu tempo acabou')", 10);
				clearInterval(n);	
			    setTimeout("location.reload(true);", 1000);
			}
			//MOVER JOGADOR DIV3

			function mover(Direcao) {
				if (contador != 0) {
					clearInterval(timer);
				}
				if (Direcao == "direita") {
					timer = setInterval("direita()", 15);
					contador++;
				}

				if (Direcao == "esquerda") {
					timer = setInterval("esquerda()", 15);
					contador++;
				}

				if (Direcao == "acima") {
					timer = setInterval("acima()", 15);
					contador++;
				}

				if (Direcao == "baixo") {
					timer = setInterval("baixo()", 15);
					contador++;
				}
			}


			function direita() {
				let div3Left = parseInt(getComputedStyle(div3).left);
				let fundoWidth = parseInt(getComputedStyle(fundo).width);
				let div3Width = parseInt(getComputedStyle(div3).width);

				div3.style.left = div3Left + 5;
				if (div3Left >= fundoWidth - div3Width) {
					clearInterval(timer);
					timer = setInterval("esquerda()", 15);
				}
			}

			function esquerda() {
				let div3Left = parseInt(getComputedStyle(div3).left);

				div3.style.left = div3Left - 5;
				if (div3Left <= 0) {
					clearInterval(timer);
					timer = setInterval("direita()", 15);
				}
			}

			function baixo() {
				let div3Top = parseInt(getComputedStyle(div3).top);
				let fundoHeight = parseInt(getComputedStyle(fundo).height);
				let div3Height = parseInt(getComputedStyle(div3).height);

				div3.style.top = div3Top + 5;
				if (div3Top >= fundoHeight - div3Height) {
					clearInterval(timer);
					timer = setInterval("acima()", 15);
				}
			}
			function acima() {
				let div3Top = parseInt(getComputedStyle(div3).top);

				div3.style.top = div3Top - 5;
				if (div3Top <= 0) {
					clearInterval(timer);
					timer = setInterval("baixo()", 15);
				}
			}
			function mudarjogador() {
				if (cont == 0) {
					div3.style.backgroundImage = "url('./jogador1.png')";
					cont++;
				} else {
					if (cont == 1) {
						div3.style.backgroundImage = "url('./jogador2.png')";
						cont++;
					} else {
						if (cont == 2) {
							div3.style.backgroundImage = "url('./jogador3.png')";
							cont = 0;
						}
					}
				}
			}


			// mover goleiro DIV2
			function moverdireita() {
				let div2Left = parseInt(getComputedStyle(div2).top);
				let fundoWidth = parseInt(getComputedStyle(fundo).height);
				let div2Width = parseInt(getComputedStyle(div2).height);

				div2.style.top = div2Left + 5;
				if (div2Left >= fundoWidth - div2Width) {
					clearInterval(m);
					m = setInterval("moveresquerda()", 10);
				}
			}
			function moveresquerda() {
				let div2Left = parseInt(getComputedStyle(div2).top);
				let fundoWidth = parseInt(getComputedStyle(fundo).height);
				let div2Width = parseInt(getComputedStyle(div2).height);

				div2.style.top = div2Left - 5;
				if (div2Left <= 0) {
					clearInterval(m);
					m = setInterval("moverdireita()", 10);
				}
			}

			// Mover bola DIV1
			function moverbolacima() {
				let div1Left = parseInt(getComputedStyle(div1).top);
				let fundoWidth = parseInt(getComputedStyle(fundo).height);
				let div1Width = parseInt(getComputedStyle(div1).height);

				div1.style.top = div1Left + 5;
				if (div1Left >= fundoWidth - div1Width) {
					clearInterval(bola);
					bola = setInterval("moverbolabaixo()", 10);
				}
			}
			function moverbolabaixo() {
				let div1Left = parseInt(getComputedStyle(div1).top);
				let fundoWidth = parseInt(getComputedStyle(fundo).height);
				let div1Width = parseInt(getComputedStyle(div1).height);

				div1.style.top = div1Left - 5;
				if (div1Left <= 0) {
					clearInterval(bola);
					bola = setInterval("moverbolacima()", 10);
				}
			}
			function moverdireitabola() {
				if (jk == 1) {
					let div1Left = parseInt(getComputedStyle(div1).left);
					let fundoWidth = parseInt(getComputedStyle(fundo).width);
					let div1Width = parseInt(getComputedStyle(div1).width);

					div1.style.left = div1Left - 5;
					if (div1Left <= 0) {
						clearInterval(bola2);
					}
				}
			}



			function mudarbola() {
				if (cont == 0) {
					div1.style.backgroundImage = "url('./bola2.png')";
					cont++;
				} else {
					if (cont == 1) {
						div1.style.backgroundImage = "url('./bolatipo2.png')";
						cont++;
					} else {
						if (cont == 2) {
							div1.style.backgroundImage = "url('./bola1.png')";
							cont = 0;
						}
					}
				}
			}



			function colisao() {
				let div3Left = parseInt(getComputedStyle(div3).left);
				let div3Top = parseInt(getComputedStyle(div3).top);
				let div3Height = parseInt(getComputedStyle(div3).height);
				let div3Width = parseInt(getComputedStyle(div3).width);

				let div2Left = parseInt(getComputedStyle(div2).left);
				let div2Top = parseInt(getComputedStyle(div2).top);
				let div2Height = parseInt(getComputedStyle(div2).height);
				let div2Width = parseInt(getComputedStyle(div2).width);

				let div1Left = parseInt(getComputedStyle(div1).left);
				let div1Top = parseInt(getComputedStyle(div1).top);
				let div1Height = parseInt(getComputedStyle(div1).height);
				let div1Width = parseInt(getComputedStyle(div1).width);

				let fundoHeight = parseInt(getComputedStyle(fundo).height);
				let fundoWidth = parseInt(getComputedStyle(fundo).width);
				let fundoLeft = parseInt(getComputedStyle(fundo).left);


				if (((div1Left >= div2Left) && (div1Left <= div2Left + div2Width)) &&
					((div1Top >= div2Top) && (div1Top <= div2Top + div2Height))) {
					clearInterval(n);
					clearInterval(m);
					clearInterval(bola2);
					alert("GOLEIRO DEFENDEUUUUU\nSua pontuação foi 0 pontos!");
					setTimeout("location.reload(true);", 1);

				}
				if (((div2Left >= div1Left) && (div2Left <= div1Left + div1Width)) &&
					((div2Top >= div1Top) && (div2Top <= div1Top + div1Height))) {
					clearInterval(n);
					clearInterval(m);
					clearInterval(bola2);
					alert("GOLEIRO DEFENDEUUUUU\nSua pontuação foi 0 pontos!");
					setTimeout("location.reload(true);", 1);
				}
				if (((div3Left >= div1Left) && (div3Left <= div1Left + div1Width)) &&
					((div3Top >= div1Top) && (div3Top <= div1Top + div1Height))) {
					clearInterval(timer);
					clearInterval(bola);
					jk = 1;


				}
				if (((div1Left >= div3Left) && (div1Left <= div3Left + div3Width)) &&
					((div1Top >= div3Top) && (div1Top <= div3Top + div3Height))) {
					clearInterval(timer);
					clearInterval(bola);
					jk = 1;

				} if (((div3Left >= div1Left) && (div3Left <= div1Left + div1Width)) &&
					((div3Top >= div1Top) && (div3Top <= div1Top + div1Height))) {
					clearInterval(timer);
					clearInterval(bola);
					jk = 1;


				}
				if (((div1Left >= div3Left) && (div1Left <= div3Left + div3Width)) &&
					((div1Top >= div3Top) && (div1Top <= div3Top + div3Height))) {
					clearInterval(timer);
					clearInterval(bola);
					jk = 1;

				}
				if (div1Left <= 0) {
					clearInterval(n);
					clearInterval(m);
					alert("Goooooooool\nSua pontuação foi " + timeSecond + "00 pontos!");
					setTimeout("location.reload(true);", 1);
				}


			}



			let contador = 0;
			let cont = 0;
			let bola = setInterval("moverbolacima()", 15);
			let m = setInterval("moverdireita()", 15);
			let n = setInterval("colisao()", 5);
			bola2 = setInterval("moverdireitabola()", 10);
			let jk = 0;

			document.querySelector("#acima").addEventListener("click", () => { mover('acima') });
			document.querySelector("#esquerda").addEventListener("click", () => { mover('esquerda') });
			document.querySelector("#direita").addEventListener("click", () => { mover('direita') });
			document.querySelector("#baixo").addEventListener("click", () => { mover('baixo') });
			document.querySelector("#mudarbola").addEventListener("click", () => { mudarbola() });
			document.querySelector("#mudarjogador").addEventListener("click", () => { mudarjogador() });


		</script>
	</body>

</html>